import{W as c,g as r,O as a,v as o,w as i,G as u,x as l}from"./vendor.766e96b7.js";class p extends c{constructor(){super();r().onAuthStateChanged(t=>this.handleAuthStateChange(t))}async getCurrentUser(){const e=r();return{user:this.createUserResult(e.currentUser)}}async getIdToken(){var e;return{token:await((e=r().currentUser)===null||e===void 0?void 0:e.getIdToken())||""}}async setLanguageCode(e){const t=r();t.languageCode=e.languageCode}async signInWithApple(){const e=new a("apple.com"),t=r(),n=await o(t,e),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithFacebook(){const e=new i,t=r(),n=await o(t,e),s=i.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithGithub(){const e=new a("github.com"),t=r(),n=await o(t,e),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithGoogle(){const e=new u,t=r(),n=await o(t,e),s=u.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithMicrosoft(){const e=new a("microsoft.com"),t=r(),n=await o(t,e),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithPlayGames(){throw new Error("Not available on web.")}async signInWithTwitter(){const e=new a("twitter.com"),t=r(),n=await o(t,e),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithYahoo(){const e=new a("yahoo.com"),t=r(),n=await o(t,e),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithPhoneNumber(e){throw new Error("Not implemented on web.")}async signOut(){await r().signOut()}async useAppLanguage(){r().useDeviceLanguage()}handleAuthStateChange(e){const n={user:this.createUserResult(e)};this.notifyListeners("authStateChange",n)}createSignInResult(e,t){const n=this.createUserResult(e),s=this.createCredentialResult(t);return{user:n,credential:s}}createUserResult(e){return e?{displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,phoneNumber:e.phoneNumber,photoUrl:e.photoURL,providerId:e.providerId,tenantId:e.tenantId,uid:e.uid}:null}createCredentialResult(e){if(!e)return null;const t={providerId:e.providerId};return e instanceof l&&(t.accessToken=e.accessToken,t.idToken=e.idToken,t.secret=e.secret),t}}export{p as FirebaseAuthenticationWeb};
