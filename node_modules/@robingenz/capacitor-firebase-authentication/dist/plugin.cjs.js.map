{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\r\nconst FirebaseAuthentication = registerPlugin('FirebaseAuthentication', {\r\n    web: () => import('./web').then(m => new m.FirebaseAuthenticationWeb()),\r\n});\r\nexport * from './definitions';\r\nexport { FirebaseAuthentication };\r\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\r\nimport { FacebookAuthProvider, getAuth, GoogleAuthProvider, OAuthCredential, OAuthProvider, signInWithPopup, } from 'firebase/auth';\r\nexport class FirebaseAuthenticationWeb extends WebPlugin {\r\n    constructor() {\r\n        super();\r\n        const auth = getAuth();\r\n        auth.onAuthStateChanged(user => this.handleAuthStateChange(user));\r\n    }\r\n    async getCurrentUser() {\r\n        const auth = getAuth();\r\n        const userResult = this.createUserResult(auth.currentUser);\r\n        const result = {\r\n            user: userResult,\r\n        };\r\n        return result;\r\n    }\r\n    async getIdToken() {\r\n        var _a;\r\n        const auth = getAuth();\r\n        const idToken = await ((_a = auth.currentUser) === null || _a === void 0 ? void 0 : _a.getIdToken());\r\n        const result = {\r\n            token: idToken || '',\r\n        };\r\n        return result;\r\n    }\r\n    async setLanguageCode(options) {\r\n        const auth = getAuth();\r\n        auth.languageCode = options.languageCode;\r\n    }\r\n    async signInWithApple() {\r\n        const provider = new OAuthProvider('apple.com');\r\n        const auth = getAuth();\r\n        const result = await signInWithPopup(auth, provider);\r\n        const credential = OAuthProvider.credentialFromResult(result);\r\n        return this.createSignInResult(result.user, credential);\r\n    }\r\n    async signInWithFacebook() {\r\n        const provider = new FacebookAuthProvider();\r\n        const auth = getAuth();\r\n        const result = await signInWithPopup(auth, provider);\r\n        const credential = FacebookAuthProvider.credentialFromResult(result);\r\n        return this.createSignInResult(result.user, credential);\r\n    }\r\n    async signInWithGithub() {\r\n        const provider = new OAuthProvider('github.com');\r\n        const auth = getAuth();\r\n        const result = await signInWithPopup(auth, provider);\r\n        const credential = OAuthProvider.credentialFromResult(result);\r\n        return this.createSignInResult(result.user, credential);\r\n    }\r\n    async signInWithGoogle() {\r\n        const provider = new GoogleAuthProvider();\r\n        const auth = getAuth();\r\n        const result = await signInWithPopup(auth, provider);\r\n        const credential = GoogleAuthProvider.credentialFromResult(result);\r\n        return this.createSignInResult(result.user, credential);\r\n    }\r\n    async signInWithMicrosoft() {\r\n        const provider = new OAuthProvider('microsoft.com');\r\n        const auth = getAuth();\r\n        const result = await signInWithPopup(auth, provider);\r\n        const credential = OAuthProvider.credentialFromResult(result);\r\n        return this.createSignInResult(result.user, credential);\r\n    }\r\n    async signInWithPlayGames() {\r\n        throw new Error('Not available on web.');\r\n    }\r\n    async signInWithTwitter() {\r\n        const provider = new OAuthProvider('twitter.com');\r\n        const auth = getAuth();\r\n        const result = await signInWithPopup(auth, provider);\r\n        const credential = OAuthProvider.credentialFromResult(result);\r\n        return this.createSignInResult(result.user, credential);\r\n    }\r\n    async signInWithYahoo() {\r\n        const provider = new OAuthProvider('yahoo.com');\r\n        const auth = getAuth();\r\n        const result = await signInWithPopup(auth, provider);\r\n        const credential = OAuthProvider.credentialFromResult(result);\r\n        return this.createSignInResult(result.user, credential);\r\n    }\r\n    async signInWithPhoneNumber(_options) {\r\n        throw new Error('Not implemented on web.');\r\n    }\r\n    async signOut() {\r\n        const auth = getAuth();\r\n        await auth.signOut();\r\n    }\r\n    async useAppLanguage() {\r\n        const auth = getAuth();\r\n        auth.useDeviceLanguage();\r\n    }\r\n    handleAuthStateChange(user) {\r\n        const userResult = this.createUserResult(user);\r\n        const change = {\r\n            user: userResult,\r\n        };\r\n        this.notifyListeners('authStateChange', change);\r\n    }\r\n    createSignInResult(user, credential) {\r\n        const userResult = this.createUserResult(user);\r\n        const credentialResult = this.createCredentialResult(credential);\r\n        const result = {\r\n            user: userResult,\r\n            credential: credentialResult,\r\n        };\r\n        return result;\r\n    }\r\n    createUserResult(user) {\r\n        if (!user) {\r\n            return null;\r\n        }\r\n        const result = {\r\n            displayName: user.displayName,\r\n            email: user.email,\r\n            emailVerified: user.emailVerified,\r\n            isAnonymous: user.isAnonymous,\r\n            phoneNumber: user.phoneNumber,\r\n            photoUrl: user.photoURL,\r\n            providerId: user.providerId,\r\n            tenantId: user.tenantId,\r\n            uid: user.uid,\r\n        };\r\n        return result;\r\n    }\r\n    createCredentialResult(credential) {\r\n        if (!credential) {\r\n            return null;\r\n        }\r\n        const result = {\r\n            providerId: credential.providerId,\r\n        };\r\n        if (credential instanceof OAuthCredential) {\r\n            result.accessToken = credential.accessToken;\r\n            result.idToken = credential.idToken;\r\n            result.secret = credential.secret;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin","auth","getAuth","OAuthProvider","signInWithPopup","FacebookAuthProvider","GoogleAuthProvider","OAuthCredential"],"mappings":"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"}