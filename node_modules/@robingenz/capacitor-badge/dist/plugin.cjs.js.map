{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\r\nconst Badge = registerPlugin('Badge', {\r\n    web: () => import('./web').then(m => new m.BadgeWeb()),\r\n});\r\nexport * from './definitions';\r\nexport { Badge };\r\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\r\nexport class BadgeWeb extends WebPlugin {\r\n    constructor() {\r\n        super();\r\n        this.restore();\r\n    }\r\n    async checkPermissions() {\r\n        return { display: 'granted' };\r\n    }\r\n    async requestPermissions() {\r\n        return { display: 'granted' };\r\n    }\r\n    async get() {\r\n        const value = localStorage.getItem(BadgeWeb.STORAGE_KEY);\r\n        const count = value ? parseInt(value, 10) : 0;\r\n        return { count };\r\n    }\r\n    async set(options) {\r\n        const count = options.count;\r\n        if (count === 0) {\r\n            await navigator.clearAppBadge();\r\n        }\r\n        else {\r\n            await navigator.setAppBadge(count);\r\n        }\r\n        const value = count.toString();\r\n        localStorage.setItem(BadgeWeb.STORAGE_KEY, value);\r\n    }\r\n    async increase() {\r\n        const { count } = await this.get();\r\n        await this.set({ count: count + 1 });\r\n    }\r\n    async decrease() {\r\n        const { count } = await this.get();\r\n        if (count < 1) {\r\n            return;\r\n        }\r\n        await this.set({ count: count - 1 });\r\n    }\r\n    async clear() {\r\n        await this.set({ count: 0 });\r\n    }\r\n    async isSupported() {\r\n        const result = {\r\n            isSupported: 'setAppBadge' in navigator,\r\n        };\r\n        return result;\r\n    }\r\n    async restore() {\r\n        const value = localStorage.getItem(BadgeWeb.STORAGE_KEY);\r\n        if (!value) {\r\n            return;\r\n        }\r\n        const count = parseInt(value, 10);\r\n        await navigator.setAppBadge(count);\r\n    }\r\n}\r\nBadgeWeb.STORAGE_KEY = 'capacitor.badge';\r\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}